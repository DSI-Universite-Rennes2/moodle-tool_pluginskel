## Every recipe file must provide at least the component property.
component: newmodule

## Human readable name of the plugin.
name: Example plugin generated

## Human readable release number.
release: "0.1.0"

## Plugin version number, e.g. 2016062100. Will be set to current date if left empty.
#version: 2016121200

## Required Moodle version, e.g. 2015051100 or "2.9".
requires: "2.9"

## Plugin maturity level
maturity: MATURITY_BETA

## Copyright holder(s) of the generated files and classes.
copyright: 2016 Alexandru Elisei <alexandru.elisei@gmail.com>, David Mudr√°k <david@moodle.com>

## Features flags can control generation of optional files/code fragments.
features:
  #readme: true
  #license: true
  settings: true
  upgrade: true
  uninstall: true
  install: true

  ## Creates the gradebook related functions. Adds FEATURE_GRADE_HAS_GRADE.
  ## The file grade.php is also created.
  ## This feature is only generated in the context of a mod plugin.
  gradebook: true

  ## Creates the files API related function.
  ## Adds FEATURE_MOD_INTRO.
  ## This feature is only generated in the context of a mod plugin.
  file_area: true

  ## Creates the functions <modulename>_extend_navigation() and
  ## <modulename>_extend_settings_navigation() in lib.php.
  navigation: true

events:
  - eventname: course_module_instance_list_viewed
    extends: \core\event\course_module_instance_list_viewed
  - eventname: course_module_viewed
    extends: \core\event\course_module_viewed

observers:
  - eventname: \mod_test\event\course_module_instance_list_viewed
    callback: \mod_test\observer::course_module_instance_list_viewed
  - eventname: \mod_test\event\course_module_viewed
    callback: \mod_test\observer::course_module_viewed

capabilities:

  - name: addinstance
    riskbitmask: RISK_XSS
    captype: write
    contextlevel: CONTEXT_COURSE
    archetypes:
      - role: manager
        permission: CAP_ALLOW
      - role: editingteacher
        permission: CAP_ALLOW
    clonepermissionsfrom: moodle/course:manageactivities

  - name: view
    captype: read
    contextlevel: CONTEXT_MODULE
    archetypes:
      - role: guest
        permission: CAP_ALLOW
      - role: student
        permission: CAP_ALLOW
      - role: teacher
        permission: CAP_ALLOW
      - role: editingteacher
        permission: CAP_ALLOW

strings:
    - id: modulenameplural
      text: newmodules
    - id: modulename_help
      text: Use the newmodule module for...
    - id: newmodulefieldset
      text: Custom example fieldset.
    - id: newmodulename
      text: newmodule name
    - id: newmodulename_help
      text: This is the content of the help tooltip associated with the newmodulename field. Markdown syntax is supported.
    - id: modulename
      text: newmodule
    - id: pluginadministration
      text: newmodule administration
    - id: newmodulesettings
      text: Settings
    - id: missingidandcmid
      text: Missing id and cmid
    - id: nonewmodules
      text: No newmodules
    - id: view
      text: View

backup_moodle2:
    settingslib: true
    backup_elements:
        - root
    restore_elements:
        - name: root
          path: /path/to/file
